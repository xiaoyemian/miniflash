define("ui/sendAjaxPic",function(e,r){e("jquery");return function(e,r,t,n,o){var a,i=new XMLHttpRequest;new Date;i.onreadystatechange=function(){if(4==i.readyState){if(i.onreadystatechange=null,a&&window.clearTimeout(a),200!=i.status)return r.error&&r.error({description:"系统错误"},t,i.status,n,o);var e=!1;try{var s=JSON.parse(i.response)}catch(u){return e=!0,r.error&&r.error({description:u},t,s,n,o)}!e&&r.success&&r.success(s,t,n,o)}},r.progress&&i.upload.addEventListener("progress",function(e){r.progress(t,e.loaded/e.total,n,o)},!1),i.open("POST",r.behind),i.send(e),r.timeout&&(a=window.setTimeout(function(){r.error&&r.error({description:"上传失败超时"},t),i&&i.abort(),a&&window.clearTimeout(a)},r.timeout))}}),define("ui/uploadImg",function(e,r){var t=e("ui/sendAjaxPic");return function(e,r,n){var o=function(){var o=new FormData;o.append("attach",e),t(o,r,n)};r.onStart?r.onStart(o,n):o()}});
